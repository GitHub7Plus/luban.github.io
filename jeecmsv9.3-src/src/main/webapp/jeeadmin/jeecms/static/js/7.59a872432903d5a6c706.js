webpackJsonp([7],{Jb2f:function(t,n,a){var e=a("QwA6");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("FIqI")("5a6dc3c5",e,!0,{})},QwA6:function(t,n,a){n=t.exports=a("UTlt")(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},fdXU:function(t,n,a){"use strict";function e(t){a("Jb2f")}Object.defineProperty(n,"__esModule",{value:!0});var s=a("lcoF"),i=a("2sCs"),o=a.n(i),l=a("x1ym"),d=a("vV/h"),c={mixins:[s.a],data:function(){var t=l.a.required();l.a.number(),l.a.NumAndStr("必须是数字或者小写字母");return{siteTree:[],dataInfo:{site:{},siteId:"",siteName:"",apiName:"https://api.baidu.com/json/tongji/v1/ReportService/getData",account_type:1},rules:{site:[t],userName:[t],password:[t],tjSiteId:[t],tjToken:[t]}}},methods:{getSiteInfo:function(t){this.dataInfo.siteId=t.id,this.dataInfo.siteName=t.name},getDataInfo:function(t){var n=this;this.loading=!0,o.a.post(this.$api.siteTree,{root:""}).then(function(a){"200"==a.code&&(n.loading=!1,n.siteTree=a.body,n.dataInfo.site={},n.dataInfo.apiName="https://api.baidu.com/json/tongji/v1/ReportService/getData",n.dataInfo.account_type=1,0!=t&&o.a.post(n.$api.statList,{siteId:t}).then(function(t){var a=t.body[0];n.dataInfo.userName=a.userName,n.dataInfo.password=a.password,n.dataInfo.tjToken=a.tjToken,n.dataInfo.tjSiteId=a.tjSiteId,n.dataInfo.siteName=a.siteName,n.dataInfo.siteId=a.id,n.dataInfo.site={name:a.siteName,id:a.id}}).catch(function(t){n.loading=!1}))}).catch(function(t){n.loading=!1})},add:function(t){""!=this.dataInfo.tjToken&&(this.dataInfo.tjToken=Object(d.a)(this.dataInfo.tjToken,"S9u978Q31NGPGc5H","X83yESM9iShLxfwS")),""!=this.dataInfo.tjSiteId&&(this.dataInfo.tjSiteId=Object(d.a)(this.dataInfo.tjSiteId,"S9u978Q31NGPGc5H","X83yESM9iShLxfwS")),delete this.dataInfo.apiName,delete this.dataInfo.account_type,delete this.dataInfo.site,this.saveDataInfo(t,this.$api.statSave,this.dataInfo,"list")}},created:function(){this.getDataInfo(this.id)}},r=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cms-body"},[a("cms-back"),t._v(" "),a("el-form",{ref:"form",staticClass:"cms-form",attrs:{model:t.dataInfo,rules:t.rules,"label-width":"162px"}},[a("el-form-item",{staticClass:"flex-50",attrs:{label:"站点名称",prop:"site"}},[a("el-select",{attrs:{placeholder:"请选择","value-key":"id"},on:{change:t.getSiteInfo},model:{value:t.dataInfo.site,callback:function(n){t.$set(t.dataInfo,"site",n)},expression:"dataInfo.site"}},t._l(t.siteTree,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t}})}))],1),t._v(" "),a("el-form-item",{staticClass:"flex-50"}),t._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"百度统计用户名",prop:"userName"}},[a("el-input",{staticClass:"cms-width",model:{value:t.dataInfo.userName,callback:function(n){t.$set(t.dataInfo,"userName",n)},expression:"dataInfo.userName"}})],1),t._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"密码",prop:"password"}},[a("el-input",{staticClass:"cms-width",model:{value:t.dataInfo.password,callback:function(n){t.$set(t.dataInfo,"password",n)},expression:"dataInfo.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"Token",prop:"tjToken"}},[a("el-input",{staticClass:"cms-width",model:{value:t.dataInfo.tjToken,callback:function(n){t.$set(t.dataInfo,"tjToken",n)},expression:"dataInfo.tjToken"}})],1),t._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"siteId",prop:"tjSiteId"}},[a("el-input",{staticClass:"cms-width",model:{value:t.dataInfo.tjSiteId,callback:function(n){t.$set(t.dataInfo,"tjSiteId",n)},expression:"dataInfo.tjSiteId"}})],1),t._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"接口名称",prop:"apiName"}},[a("el-input",{staticClass:"cms-width",attrs:{readonly:!0},model:{value:t.dataInfo.apiName,callback:function(n){t.$set(t.dataInfo,"apiName",n)},expression:"dataInfo.apiName"}})],1),t._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"account_type",prop:"account_type"}},[a("el-input",{staticClass:"cms-width",attrs:{readonly:!0},model:{value:t.dataInfo.account_type,callback:function(n){t.$set(t.dataInfo,"account_type",n)},expression:"dataInfo.account_type"}})],1),t._v(" "),a("div",{staticClass:"form-footer"},[0==this.id?a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/stat/save",expression:"'/stat/save'"}],attrs:{type:"primary"},on:{click:function(n){t.add(!1)}}},[t._v("添加")]):t._e(),t._v(" "),0!=this.id?a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/stat/edit",expression:"'/stat/edit'"}],attrs:{type:"primary"},on:{click:function(n){t.add(!1)}}},[t._v("提交")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.$reset}},[t._v("重置")])],1)],1)],1)},f=[],p={render:r,staticRenderFns:f},u=p,m=a("C7Lr"),I=e,v=m(c,u,!1,I,null,null);n.default=v.exports}});